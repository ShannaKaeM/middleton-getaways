/**
 * TW4 Component Variants System
 * 
 * This file implements a component variant system using TW4's new features:
 * - @utility for component styles
 * - @custom-variant for data attribute variants
 * - CSS variables for dynamic theming
 */

@import "tailwindcss";

/* ============================================
   CUSTOM VARIANTS
   Define data-attribute based variants
   ============================================ */

/* Card style variants */
@custom-variant card-style-1 (&[data-card-style="1"]);
@custom-variant card-style-2 (&[data-card-style="2"]);
@custom-variant card-style-3 (&[data-card-style="3"]);

/* Button style variants */
@custom-variant btn-primary (&[data-btn="primary"]);
@custom-variant btn-secondary (&[data-btn="secondary"]);
@custom-variant btn-outline (&[data-btn="outline"]);
@custom-variant btn-ghost (&[data-btn="ghost"]);

/* Size variants */
@custom-variant size-sm (&[data-size="sm"]);
@custom-variant size-md (&[data-size="md"]);
@custom-variant size-lg (&[data-size="lg"]);
@custom-variant size-xl (&[data-size="xl"]);

/* Section variants */
@custom-variant section-hero (&[data-section="hero"]);
@custom-variant section-feature (&[data-section="feature"]);
@custom-variant section-cta (&[data-section="cta"]);

/* ============================================
   BASE COMPONENTS
   Structural styles only - no visual styling
   ============================================ */

@layer components {
  /* Card base */
  .mi-card {
    display: flex;
    flex-direction: column;
    position: relative;
    width: 100%;
  }
  
  /* Button base */
  .mi-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-weight: 500;
    transition: all 0.2s var(--ease-out, ease-out);
    cursor: pointer;
    text-decoration: none;
    border: none;
    outline: none;
  }
  
  /* Section base */
  .mi-section {
    position: relative;
    width: 100%;
  }
  
  /* Container base */
  .mi-container {
    width: 100%;
    max-width: var(--container-2xl, 1536px);
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--spacing-6);
    padding-right: var(--spacing-6);
  }
}

/* ============================================
   CARD VARIANTS
   Different card styles as utilities
   ============================================ */

/* Card Style 1 - Clean & Minimal */
@utility card-style-1 {
  background: var(--color-white);
  padding: var(--spacing-6);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  border: 1px solid var(--color-gray-200);
}

/* Card Style 2 - Branded & Bold */
@utility card-style-2 {
  background: var(--color-primary-light, var(--color-primary-100));
  color: var(--color-primary-dark, var(--color-primary-900));
  padding: var(--spacing-8);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-lg);
  border: 2px solid var(--color-primary);
}

/* Card Style 3 - Gradient & Modern */
@utility card-style-3 {
  background: linear-gradient(135deg, 
    var(--color-white) 0%, 
    var(--color-gray-50) 100%
  );
  padding: var(--spacing-10);
  border-radius: var(--radius-2xl);
  box-shadow: var(--shadow-xl);
  position: relative;
  overflow: hidden;
}

/* Card hover effects */
@utility card-hover-lift {
  transition: transform 0.2s var(--ease-out), box-shadow 0.2s var(--ease-out);
}

@utility card-hover-lift:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-2xl);
}

/* ============================================
   BUTTON VARIANTS
   Different button styles as utilities
   ============================================ */

/* Button Primary */
@utility btn-primary {
  background: var(--color-primary);
  color: white;
  padding: var(--spacing-3) var(--spacing-6);
  border-radius: var(--radius-md);
}

@utility btn-primary:hover {
  background: var(--color-primary-dark, var(--color-primary-700));
}

/* Button Secondary */
@utility btn-secondary {
  background: var(--color-secondary);
  color: white;
  padding: var(--spacing-3) var(--spacing-6);
  border-radius: var(--radius-md);
}

@utility btn-secondary:hover {
  background: var(--color-secondary-dark, var(--color-secondary-700));
}

/* Button Outline */
@utility btn-outline {
  background: transparent;
  color: var(--color-primary);
  padding: calc(var(--spacing-3) - 2px) calc(var(--spacing-6) - 2px);
  border: 2px solid var(--color-primary);
  border-radius: var(--radius-md);
}

@utility btn-outline:hover {
  background: var(--color-primary);
  color: white;
}

/* Button Ghost */
@utility btn-ghost {
  background: transparent;
  color: var(--color-primary);
  padding: var(--spacing-3) var(--spacing-6);
  border-radius: var(--radius-md);
}

@utility btn-ghost:hover {
  background: var(--color-primary-light, var(--color-primary-100));
}

/* ============================================
   SIZE VARIANTS
   Consistent sizing system
   ============================================ */

/* Small size */
@utility size-sm {
  padding: var(--spacing-2) var(--spacing-4);
  font-size: var(--text-sm);
}

/* Medium size (default) */
@utility size-md {
  padding: var(--spacing-3) var(--spacing-6);
  font-size: var(--text-base);
}

/* Large size */
@utility size-lg {
  padding: var(--spacing-4) var(--spacing-8);
  font-size: var(--text-lg);
}

/* Extra large size */
@utility size-xl {
  padding: var(--spacing-6) var(--spacing-10);
  font-size: var(--text-xl);
}

/* ============================================
   SECTION VARIANTS
   Different section styles
   ============================================ */

/* Hero Section */
@utility section-hero {
  min-height: 80vh;
  display: flex;
  align-items: center;
  padding: var(--spacing-20) 0;
  background: var(--color-gray-50);
}

/* Feature Section */
@utility section-feature {
  padding: var(--spacing-16) 0;
  background: white;
}

/* CTA Section */
@utility section-cta {
  padding: var(--spacing-12) 0;
  background: var(--color-primary);
  color: white;
}

/* ============================================
   COMPONENT UTILITIES
   Additional utilities for components
   ============================================ */

/* Card content areas */
@utility card-header {
  margin-bottom: var(--spacing-4);
}

@utility card-body {
  flex: 1;
}

@utility card-footer {
  margin-top: var(--spacing-6);
  padding-top: var(--spacing-4);
  border-top: 1px solid var(--color-gray-200);
}

/* Button groups */
@utility btn-group {
  display: flex;
  gap: var(--spacing-2);
}

@utility btn-group-vertical {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-2);
}

/* ============================================
   RESPONSIVE VARIANTS
   Mobile-first responsive utilities
   ============================================ */

@media (min-width: 640px) {
  @utility sm:card-style-1 {
    padding: var(--spacing-8);
  }
  
  @utility sm:btn-primary {
    padding: var(--spacing-4) var(--spacing-8);
  }
}

@media (min-width: 768px) {
  @utility md:card-style-1 {
    padding: var(--spacing-10);
  }
  
  @utility md:section-hero {
    min-height: 90vh;
  }
}

@media (min-width: 1024px) {
  @utility lg:card-style-1 {
    padding: var(--spacing-12);
  }
}

/* ============================================
   DARK MODE VARIANTS
   Dark mode overrides
   ============================================ */

@media (prefers-color-scheme: dark) {
  @utility dark:card-style-1 {
    background: var(--color-gray-800);
    color: white;
    border-color: var(--color-gray-700);
  }
  
  @utility dark:btn-primary {
    background: var(--color-primary-light, var(--color-primary-400));
  }
  
  @utility dark:btn-outline {
    color: var(--color-primary-light, var(--color-primary-400));
    border-color: var(--color-primary-light, var(--color-primary-400));
  }
}

/* ============================================
   ANIMATION UTILITIES
   Reusable animations
   ============================================ */

@utility animate-fade-in {
  animation: fade-in 0.3s var(--ease-out);
}

@utility animate-slide-up {
  animation: slide-up 0.4s var(--ease-out);
}

@utility animate-scale-in {
  animation: scale-in 0.2s var(--ease-out);
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slide-up {
  from { 
    opacity: 0;
    transform: translateY(10px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scale-in {
  from { 
    opacity: 0;
    transform: scale(0.95);
  }
  to { 
    opacity: 1;
    transform: scale(1);
  }
}
